## ----setup, include=FALSE---------------------------------------------------------------------------------------------------------------------------------------
library(knitr)
knitr::opts_chunk$set(echo = TRUE)


## ----githubSS, echo = FALSE-------------------------------------------------------------------------------------------------------------------------------------
include_graphics("githubSS.png")


## ----RS1, echo = FALSE------------------------------------------------------------------------------------------------------------------------------------------
include_graphics("RStudio.png")


## ----readCSV----------------------------------------------------------------------------------------------------------------------------------------------------
myCSVdata <- read.csv("fakeData.csv", header = TRUE)


## ----dumpCSV, eval = FALSE--------------------------------------------------------------------------------------------------------------------------------------
## myCSVdata


## ----viewCSV, eval = FALSE--------------------------------------------------------------------------------------------------------------------------------------
## View(myCSVdata)


## ----headCSV, eval = FALSE--------------------------------------------------------------------------------------------------------------------------------------
## head(myCSVdata)


## ----glimpseCSV, eval = FALSE-----------------------------------------------------------------------------------------------------------------------------------
## glimpse(myCSVdata)


## ----remove-----------------------------------------------------------------------------------------------------------------------------------------------------
rm(myCSVdata)


## ----loadHaven--------------------------------------------------------------------------------------------------------------------------------------------------
library(pacman)
p_load(tidyverse, haven)


## ----readSPSS---------------------------------------------------------------------------------------------------------------------------------------------------
mySPSSdata <- read_sav("fakeData.sav")


## ----readSPSS2, eval = FALSE------------------------------------------------------------------------------------------------------------------------------------
## mySPSSdata <- read_sav("fakeData.sav", user_na = TRUE)


## ----str, eval = FALSE------------------------------------------------------------------------------------------------------------------------------------------
## str(mySPSSdata)


## ----dollar, eval = FALSE---------------------------------------------------------------------------------------------------------------------------------------
## mySPSSdata$AGE


## ----head1------------------------------------------------------------------------------------------------------------------------------------------------------
head(mySPSSdata$AGE)


## ----tail1------------------------------------------------------------------------------------------------------------------------------------------------------
tail(mySPSSdata$AGE)


## ----names, eval = FALSE----------------------------------------------------------------------------------------------------------------------------------------
## names(mySPSSdata)


## ----colnames, eval = FALSE-------------------------------------------------------------------------------------------------------------------------------------
## colnames(mySPSSdata)


## ----describe, eval = FALSE-------------------------------------------------------------------------------------------------------------------------------------
## psych::describe(mySPSSdata)


## ----loadPsych--------------------------------------------------------------------------------------------------------------------------------------------------
p_load(psych)


## ----describeBy, eval = FALSE-----------------------------------------------------------------------------------------------------------------------------------
## describeBy(mySPSSdata, mySPSSdata$DX)


## ----hist, fig.keep='all'---------------------------------------------------------------------------------------------------------------------------------------
hist(mySPSSdata$AGE)


## ----scatterplots, fig.keep='all'-------------------------------------------------------------------------------------------------------------------------------
plot(x = mySPSSdata$AGE, y = mySPSSdata$MMSE)


## ----prettyScatterplots, fig.keep='all'-------------------------------------------------------------------------------------------------------------------------
plot(x = mySPSSdata$AGE, y = mySPSSdata$MMSE, xlab = "Age (years)", ylab = "MMSE Score", 
     main = "MMSE Scores by Age")


## ----table------------------------------------------------------------------------------------------------------------------------------------------------------
table(mySPSSdata$PTRACCAT)


## ----incorrectUsage, eval = FALSE-------------------------------------------------------------------------------------------------------------------------------
## prop.table(mySPSSdata$PTRACCAT)


## ----nest1------------------------------------------------------------------------------------------------------------------------------------------------------
prop.table(table(mySPSSdata$PTRACCAT))


## ----step1------------------------------------------------------------------------------------------------------------------------------------------------------
raceTable <- table(mySPSSdata$PTRACCAT)


## ----step2------------------------------------------------------------------------------------------------------------------------------------------------------
prop.table(raceTable)


## ----loadMagrittr-----------------------------------------------------------------------------------------------------------------------------------------------
p_load(magrittr)


## ----pipe, eval = FALSE-----------------------------------------------------------------------------------------------------------------------------------------
## mySPSSdata$PTRACCAT %>%
##   table() %>%
##   prop.table()


## ----pipe2, eval = FALSE----------------------------------------------------------------------------------------------------------------------------------------
## mySPSSdata$PTRACCAT %>%
##   table() %>%
##   prop.table()


## ----nest2, eval = FALSE----------------------------------------------------------------------------------------------------------------------------------------
## prop.table(table(mySPSSdata$PTRACCAT))


## ----seq, eval = FALSE------------------------------------------------------------------------------------------------------------------------------------------
## raceTable <- table(mySPSSdata$PTRACCAT)
## prop.table(raceTable)


## ----savePipeResults--------------------------------------------------------------------------------------------------------------------------------------------
propTableWithPipes <- mySPSSdata$PTRACCAT %>% 
  table() %>% 
  prop.table()


## ----sac1, eval = FALSE-----------------------------------------------------------------------------------------------------------------------------------------
## mySPSSdata %>%
##   group_by(PTMARRY) %>%
##   summarise(low2.5 = quantile(TAU, .025),
##             median = median(TAU),
##             hi2.5 = quantile(TAU, .975))


## ----strDX, eval = FALSE----------------------------------------------------------------------------------------------------------------------------------------
## str(mySPSSdata$DX)


## ----cogNames, eval = FALSE-------------------------------------------------------------------------------------------------------------------------------------
## names(mySPSSdata)


## ----dplyr------------------------------------------------------------------------------------------------------------------------------------------------------
myDataSubset <- mySPSSdata %>%
  filter(DX == 1) %>%
  select(CDRSB, MMSE, TRABSCOR, RAVLT.learning,
         ID, AGE, PTEDUCAT, PTGENDER)


## ----viewSubset-------------------------------------------------------------------------------------------------------------------------------------------------
myDataSubset


## ----bracketSubsetting------------------------------------------------------------------------------------------------------------------------------------------
myDataSubset[myDataSubset$TRABSCOR > 300, ]


## ----bracketSubsetting2-----------------------------------------------------------------------------------------------------------------------------------------
myDataSubset[myDataSubset$TRABSCOR < 0, ]


## ----exampleBrackets, eval = FALSE------------------------------------------------------------------------------------------------------------------------------
## dataFrame[row, column]


## ----exampleBrackets2, eval = FALSE-----------------------------------------------------------------------------------------------------------------------------
## dataFrame$column[row]


## ----bn1, eval = FALSE------------------------------------------------------------------------------------------------------------------------------------------
## dataFrame[1, 1]


## ----bn2, eval = FALSE------------------------------------------------------------------------------------------------------------------------------------------
## dataFrame[1, ]


## ----bn3, eval = FALSE------------------------------------------------------------------------------------------------------------------------------------------
## dataFrame[, 4]


## ----bn4, eval = FALSE------------------------------------------------------------------------------------------------------------------------------------------
## dataFrame[1:10, 1:5]


## ----bn5, eval = FALSE------------------------------------------------------------------------------------------------------------------------------------------
## dataFrame[-c(1, 2), "AGE"]


## ----changeDataPoints-------------------------------------------------------------------------------------------------------------------------------------------
myDataSubset$TRABSCOR[myDataSubset$TRABSCOR > 300] <- 300


## ----changeDataPoints2, eval = FALSE----------------------------------------------------------------------------------------------------------------------------
## myDataSubset[myDataSubset$TRABSCOR > 300, "TRABSCOR"] <- 300


## ----excludeCrazyValues-----------------------------------------------------------------------------------------------------------------------------------------
myDataSubset <- myDataSubset[-which(myDataSubset$TRABSCOR < 0),]


## ----updatedData------------------------------------------------------------------------------------------------------------------------------------------------
myDataSubset %>%
  filter(ID %in% c(1407, 1560, 1775))


## ----lm---------------------------------------------------------------------------------------------------------------------------------------------------------
model1 <- lm(TRABSCOR ~ PTEDUCAT*PTGENDER, data = myDataSubset) # R model formula syntax: DV ~ IV1 + IV2 + ...


## ----summary----------------------------------------------------------------------------------------------------------------------------------------------------
summary(model1)


## ----ggplot, message = FALSE, error = FALSE, warning = FALSE, fig.keep='all'------------------------------------------------------------------------------------
myDataSubset$Gender <- factor(myDataSubset$PTGENDER, levels = 1:2, labels = c("Female", "Male")) # Convert PTGENDER to factor
p_load(ggplot2) # Loads the ggplot2 package
ggplot(data = myDataSubset, aes(x = PTEDUCAT, y = TRABSCOR, colour = Gender)) + # Specifies main elements of plot
  geom_point() + # Adds data points
  geom_smooth(method = "lm") + # Adds a linear (method = "lm") trend line
  xlab("Years of Education") + # Gives the x-axis a custom label
  ylab("TMT-B score (seconds)") + # Gives the y-axis a custom label
  ggtitle("No Interaction Effect of Gender x Education on TMT-B scores") # Gives the plot a title

